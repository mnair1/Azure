pipeline {
    agent any
    
    // environment { 
        
    // }
    stages { 
        
        stage('Code Checkout') {
            steps {
                checkout([
                    $class: 'GitSCM', 
                    branches: [[name: '*/master']], 
                    userRemoteConfigs: [[url: 'https://github.com/mkukreja1/dfcloudacademy.git', credentialsId: '3ab24faf-8925-4f87-a3f0-4408584b3e85']]
                ])
            }
        }
        
        stage('Build') {
            steps {
            awsCodeBuild artifactEncryptionDisabledOverride: '', artifactLocationOverride: 'devops-df-cicd-artifact-bucket-jenkins-syed', artifactNameOverride: 'artifact.zip', artifactNamespaceOverride: '', artifactPackagingOverride: 'ZIP', artifactPathOverride: 'jenkins_artifacts/build_artifacts/', artifactTypeOverride: 'S3', awsAccessKey: env.AWS_ACCESS_KEY_ID, awsSecretKey: env.AWS_SECRET_ACCESS_KEY, buildSpecFile: '', buildTimeoutOverride: '', cacheLocationOverride: '', cacheModesOverride: '', cacheTypeOverride: '', certificateOverride: '', cloudWatchLogsGroupNameOverride: '', cloudWatchLogsStatusOverride: 'ENABLED', cloudWatchLogsStreamNameOverride: '', computeTypeOverride: '', credentialsId: 'c9e5bdf8-b9ae-4ab0-9b44-7dda99c9c200', credentialsType: 'jenkins', cwlStreamingDisabled: '', downloadArtifacts: 'false', downloadArtifactsRelativePath: '', envParameters: '', envVariables: '', environmentTypeOverride: '', exceptionFailureMode: '', gitCloneDepthOverride: '', imageOverride: '', insecureSslOverride: '', localSourcePath: '', overrideArtifactName: '', privilegedModeOverride: '', projectName: 'devops-df-cicd-build-project', proxyHost: '', proxyPort: '', region: 'us-east-1', reportBuildStatusOverride: '', s3LogsEncryptionDisabledOverride: '', s3LogsLocationOverride: '', s3LogsStatusOverride: '', secondaryArtifactsOverride: '', secondarySourcesOverride: '', secondarySourcesVersionOverride: '', serviceRoleOverride: '', sourceControlType: 'jenkins', sourceLocationOverride: 'devops-df-cicd-artifact-bucket-jenkins-syed/jenkins_artifacts/source_artifacts/artifact.zip', sourceTypeOverride: 'S3', sourceVersion: '', sseAlgorithm: '', workspaceSubdir: ''
        }
        }
        
    }
}
